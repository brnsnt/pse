{"version":3,"sources":["webpack:///./src/app/components/catalogues/catalogue.service.ts","webpack:///./src/app/components/catalogue-search/catalogue-search.component.ts","webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/components/catalogue-entry/catalogue-entry.component.ts","webpack:///./src/app/components/catalogue-entry/catalogue-entry.ts","webpack:///./src/app/components/catalogue-search/catalogue-search.service.ts","webpack:///./src/app/components/catalogues/catalogue.ts","webpack:///./src/app/components/catalogues/catalogues.component.ts","webpack:///./src/environments/environment.ts","webpack:///./src/app/components/catalogue-entry/catalogue-entry.component.css","webpack:///./src/app/components/catalogue-search/catalogue-search.component.css","webpack:///./src/app/components/catalogues/catalogues.component.css","webpack:///./src/app/components/catalogue-entry/catalogue-entry.component.html","webpack:///./src/app/components/catalogue-search/catalogue-search.component.html","webpack:///./src/app/components/catalogues/catalogues.component.html"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport {Catalogue, CATALOGUES} from \"./catalogue\";\n\n\n@Injectable()\nexport class CatalogueService {\n\n  /**Overkill promise getter for a constant.**/\n  getCatalogues(): Promise<Catalogue[]> {\n    return Promise.resolve(CATALOGUES);\n  }\n\n  getCatalogue(tag: string): Promise<Catalogue> {\n    return this.getCatalogues()\n      .then(catalogues => catalogues.find(catalogue=> catalogue.tag === tag));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/catalogues/catalogue.service.ts","import \"rxjs/add/operator/switchMap\";\nimport {Component} from \"@angular/core\";\nimport {ActivatedRoute, Params} from \"@angular/router\";\nimport {Location} from \"@angular/common\";\nimport {CatalogueSearchService} from \"./catalogue-search.service\";\nimport \"rxjs/add/observable/of\";\nimport \"rxjs/add/operator/catch\";\nimport \"rxjs/add/operator/debounceTime\";\nimport \"rxjs/add/operator/distinctUntilChanged\";\nimport {Observable} from \"rxjs/Observable\";\nimport {Subject} from \"rxjs/Subject\";\nimport {CatalogueEntry} from \"../catalogue-entry/catalogue-entry\";\nimport {Catalogue} from \"../catalogues/catalogue\";\nimport {CatalogueService} from \"../catalogues/catalogue.service\";\n\n@Component({\n  moduleId: module.id,\n  selector: 'catalogue-search',\n  templateUrl: 'catalogue-search.component.html',\n  styleUrls: ['catalogue-search.component.css'],\n  providers: [CatalogueSearchService]\n})\n\n\nexport class CatalogueSearchComponent {\n\n  /*Catalogue to search from*/\n  catalogue: Catalogue;\n\n  /*Last search results*/\n  catalogueEntries: Observable<CatalogueEntry[]>;\n\n  /**\n   * Produces observable event stream (of strings) that is\n   * bound to the input field.\n   * @type {Subject<string>}\n   */\n  private searchTerms = new Subject<string>();\n\n  private selectedCatalogueEntry: CatalogueEntry;\n\n  constructor(private catalogueService: CatalogueService,\n              private catalogueSearchService: CatalogueSearchService,\n              private route: ActivatedRoute,\n              private location: Location) {\n  }\n\n  /**\n   * Init Component\n   */\n  ngOnInit(): void {\n    this.setupRoute();\n    this.setupSearch()\n    this.selectedCatalogueEntry = undefined;\n  }\n\n\n  /**\n   * Push a search term into the observable stream.\n   * @param {string} term\n   */\n  search(term: string): void {\n    this.searchTerms.next(term);\n  }\n\n  /**\n   * Navigate to last url - Just as example\n   */\n  goBack(): void {\n    this.location.back();\n  }\n\n  /**\n   * Handles click on an entry in the preview.\n   * @param {CatalogueEntry} catalogueEntry - selected entry\n   */\n  showCatalogueEntry(catalogueEntry: CatalogueEntry): void {\n    this.selectedCatalogueEntry = catalogueEntry;\n    this.catalogueEntries = Observable.of<CatalogueEntry[]>([]);\n  }\n\n  /**\n   * Set route to catalogue/:tag and bind this.catalogue to the tag.\n   */\n  private setupRoute(): void {\n    this.route.params\n      .switchMap((params: Params) =>\n        this.catalogueService.getCatalogue(params['tag']))\n      .subscribe(catalogue => this.catalogue = catalogue);\n  }\n\n\n  /**\n   * Add observer to the search terms to provide auto-completion.\n   */\n  private setupSearch(): void {\n    this.catalogueEntries = this.searchTerms\n      .debounceTime(150)        // wait 300ms after each keystroke before considering the term\n      .distinctUntilChanged()   // ignore if next search term is same as previous\n      .switchMap(term => this.doSearch(term))  // switch to new observable each time the term changes\n      .catch(error => this.handleSearchError(error));\n  }\n\n  /**\n   *\n   * @param error\n   * @returns {Observable<CatalogueEntry[]>} - probably empty\n   */\n  private handleSearchError(error: any): Observable<CatalogueEntry[]> {\n    // TODO: add real error handling\n    console.log(error);\n    return Observable.of<CatalogueEntry[]>([]);\n  }\n\n\n  /**\n   *  Get the search result from the Catalogue Search Service.\n   *\n   * @param {string} term - some search text\n   * @returns {Observable<CatalogueEntry[]>} - empty if no term given.\n   */\n  private doSearch(term: string): Observable<CatalogueEntry[]> {\n    if (term)\n      return this.catalogueSearchService.search(term, this.catalogue);\n    else\n      return Observable.of<CatalogueEntry[]>([]);\n  }\n\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/catalogue-search/catalogue-search.component.ts","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 340;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 340\n// module chunks = 1","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","/**\n * Created by brns on 22.02.17.\n */\nimport { NgModule }             from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport {CatalogueSearchComponent} from \"./components/catalogue-search/catalogue-search.component\";\n\n/*\n { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n { path: 'dashboard',  component: DashboardComponent },\n { path: 'catalogues',     component: CataloguesComponent }\n */\nconst routes: Routes = [\n    { path: 'catalogue/:tag', component: CatalogueSearchComponent },\n];\n@NgModule({\n    imports: [ RouterModule.forRoot(routes) ],\n    exports: [ RouterModule ]\n})\nexport class AppRoutingModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app-routing.module.ts","/**\n * Created by brns on 21.02.17.\n */\nimport { Component } from '@angular/core';\n\n/*\n* <h1>{{title}}</h1>\n <nav>\n <a routerLink=\"/dashboard\">Dashboard</a>\n <a routerLink=\"/catalogues\">Catalogues</a>\n </nav>\n <catalogues></catalogues>\n */\n@Component({\n    selector: 'app-root',\n    template: `<h1>{{title}}</h1>\n<catalogues></catalogues>\n <router-outlet></router-outlet>\n`,\n})\n\nexport class AppComponent {\n    title = 'search.eonum.ch';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import {NgModule} from \"@angular/core\";\nimport {BrowserModule} from \"@angular/platform-browser\";\nimport {FormsModule} from \"@angular/forms\";\nimport {HttpModule} from \"@angular/http\";\n\nimport {AppComponent} from \"./app.component\";\nimport {CataloguesComponent} from \"./components/catalogues/catalogues.component\";\nimport {CatalogueSearchComponent} from \"./components/catalogue-search/catalogue-search.component\";\nimport {AppRoutingModule} from \"./app-routing.module\";\nimport {CatalogueEntryComponent} from \"./components/catalogue-entry/catalogue-entry.component\";\nimport {CatalogueService} from \"./components/catalogues/catalogue.service\";\n\n@NgModule({\n    imports: [\n        BrowserModule,\n        FormsModule,\n        HttpModule,\n        AppRoutingModule,\n    ],\n    declarations: [\n        AppComponent,\n        CataloguesComponent,\n        CatalogueSearchComponent,\n        CatalogueEntryComponent,\n    ],\n    bootstrap: [AppComponent],\n    providers: [CatalogueService]\n\n})\n\nexport class AppModule {\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import \"rxjs/add/operator/switchMap\";\nimport {Component, Input} from \"@angular/core\";\nimport \"rxjs/add/observable/of\";\nimport \"rxjs/add/operator/catch\";\nimport \"rxjs/add/operator/debounceTime\";\nimport \"rxjs/add/operator/distinctUntilChanged\";\n\nimport {CatalogueEntry} from \"./catalogue-entry\";\n\n@Component({\n    moduleId: module.id,\n    selector: 'catalogue-entry',\n    templateUrl: 'catalogue-entry.component.html',\n    styleUrls: ['catalogue-entry.component.css'],\n})\n\n\nexport class CatalogueEntryComponent {\n\n    /*Catalogue entry to display*/\n    @Input()\n    catalogueEntry: CatalogueEntry;\n\n    constructor() {\n    }\n\n\n\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/catalogue-entry/catalogue-entry.component.ts","/**\n * Class for a diagnosis related group entry in a catalog.\n */\nexport class CatalogueEntry {\n    code: string;\n    text: string;\n    url: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/catalogue-entry/catalogue-entry.ts","/**\n * Created by brns on 22.02.17.\n */\nimport {Http, URLSearchParams} from \"@angular/http\";\nimport {Injectable} from \"@angular/core\";\nimport {CatalogueEntry} from \"../catalogue-entry/catalogue-entry\";\nimport { Observable }     from 'rxjs/Observable';\nimport 'rxjs/add/operator/toPromise';\nimport 'rxjs/add/operator/map';\nimport {Catalogue} from \"../catalogues/catalogue\";\n\n@Injectable()\nexport class CatalogueSearchService {\n\n    private searchUrl = 'https://search.eonum.ch/de';  // URL to web api\n\n    constructor(private http: Http) { }\n\n    search(searchText: string, catalogue:Catalogue): Observable<CatalogueEntry[]> {\n        let params = new URLSearchParams();\n        params.set('search', searchText);\n        params.set('max_results', '10');\n        params.set('show_highlighted', '1');\n        params.set('show_detail', '0');\n\n        let url = this.buildUrl(catalogue);\n\n\n        return this.http.get(url, {search:params })\n            .map(response => response.json() as CatalogueEntry[])\n            .catch(this.handleError);\n    }\n\n    private buildUrl(catalogue:Catalogue): string {\n        return this.searchUrl + '/' + catalogue.domain + '/' + catalogue.version + '/search'\n    }\n    private handleError(error: any): Promise<any> {\n        console.error('An error occurred', error); // for demo purposes only\n        return Promise.reject(error.message || error);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/catalogue-search/catalogue-search.service.ts","export class Catalogue {\n    tag: string;\n    name: string;\n    domain: string;\n\n    //TODO get dynamic\n    version: string;\n}\n\nexport const CATALOGUES: Catalogue[] = [\n    {tag: 'DRGs', name: 'Diagnosis Related Groups', domain:'drgs', version:'V3.0'},\n    {tag: 'ADRGs', name: 'Base DRG', domain:'adrgs', version:'V3.0'},\n    {tag: 'CHOPs', name: 'Swiss Surgery Classification' , domain:'chops' , version:'CHOP_2017'},\n    {tag: 'ICDs', name: 'International Classification of Diseases', domain:'icds', version:'ICD10-2008'}\n];\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/catalogues/catalogue.ts","import {Component, OnInit} from \"@angular/core\";\nimport {Catalogue, CATALOGUES} from \"./catalogue\";\nimport {Router} from \"@angular/router\";\nimport {CatalogueService} from \"./catalogue.service\";\n\n@Component({\n    moduleId: module.id,\n    selector: 'catalogues',\n    templateUrl: 'catalogues.component.html',\n    styleUrls: ['catalogues.component.css'],\n  }\n)\n\n/**\n * Navigation for the different catalogues.\n * Routes currently to the CatalogueSearchComponent.\n * */\nexport class CataloguesComponent implements OnInit {\n\n  constructor(private router: Router,\n              private catalogueService: CatalogueService) {}\n\n  /**\n   * Init component\n   */\n  ngOnInit(): void {\n    //Resolve promise and set catalogues\n    this.catalogueService.getCatalogues().then(\n      catalogue => this.catalogues = catalogue);\n  }\n\n  catalogues: Catalogue[];\n  selectedCatalogue: Catalogue;\n\n  /**\n   * Navigate to the catalogue search of the selected catalogue\n   * @param {Catalogue} catalogue\n   */\n  onSelect(catalogue: Catalogue): void {\n    this.selectedCatalogue = catalogue;\n    //navigate to catalogue search\n    this.router.navigate(['/catalogue', this.selectedCatalogue.tag]);\n  }\n}\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/catalogues/catalogues.component.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".selected {\\n    background-color: #CFD8DC !important;\\n    color: white;\\n}\\n.catalogues {\\n    margin: 0 0 2em 0;\\n    list-style-type: none;\\n    padding: 0;\\n    width: 25em;\\n}\\n.catalogues li {\\n    cursor: pointer;\\n    position: relative;\\n    left: 0;\\n    background-color: #EEE;\\n    margin: .5em;\\n    padding: .3em 0;\\n    height: 1.6em;\\n    border-radius: 4px;\\n}\\n.catalogues li.selected:hover {\\n    background-color: #BBD8DC !important;\\n    color: white;\\n}\\n.catalogues li:hover {\\n    color: #607D8B;\\n    background-color: #DDD;\\n    left: .1em;\\n}\\n.catalogues .text {\\n    position: relative;\\n    top: -3px;\\n}\\n.catalogues .badge {\\n    display: inline-block;\\n    font-size: small;\\n    color: white;\\n    padding: 0.8em 0.7em 0 0.7em;\\n    background-color: #607D8B;\\n    line-height: 1em;\\n    position: relative;\\n    left: -1px;\\n    top: -4px;\\n    height: 1.8em;\\n    margin-right: .8em;\\n    border-radius: 4px 0 0 4px;\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/catalogue-entry/catalogue-entry.component.css\n// module id = 520\n// module chunks = 1","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".search-result{\\n    border-bottom: 1px solid gray;\\n    border-left: 1px solid gray;\\n    border-right: 1px solid gray;\\n    width: 600px;\\n    height: 20px;\\n    padding: 5px;\\n    background-color: snow;\\n    color: darkslategray;\\n    cursor: pointer;\\n    overflow: hidden;\\n}\\n#search-box{\\n    width: 610px;\\n    height: 30px;\\n    background-color: lightgray;\\n    color: darkslategray;\\n}\\n\\n.selected {\\n    background-color: #CFD8DC !important;\\n    color: white;\\n}\\n.results {\\n    margin: 0 0 2em 0;\\n    list-style-type: none;\\n    padding: 0;\\n}\\n.results div {\\n    cursor: pointer;\\n    position: relative;\\n    left: 0;\\n    background-color: #EEE;\\n\\n}\\n.results div.selected:hover {\\n    background-color: #BBD8DC !important;\\n    color: white;\\n}\\n.results div:hover {\\n    color: #607D8B;\\n    background-color: #DDD;\\n}\\n.results .text {\\n    position: relative;\\n}\\n.results .badge {\\n    display: inline-block;\\n    font-size: small;\\n    color: white;\\n    background-color: #607D8B;\\n    line-height: 1em;\\n    position: relative;\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/catalogue-search/catalogue-search.component.css\n// module id = 521\n// module chunks = 1","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".selected {\\n    background-color: #CFD8DC !important;\\n    color: white;\\n}\\n.catalogues {\\n    margin: 0 0 2em 0;\\n    list-style-type: none;\\n    padding: 0;\\n    width: 25em;\\n}\\n.catalogues li {\\n    cursor: pointer;\\n    position: relative;\\n    left: 0;\\n    background-color: #EEE;\\n    margin: .5em;\\n    padding: .3em 0;\\n    height: 1.6em;\\n    border-radius: 4px;\\n}\\n.catalogues li.selected:hover {\\n    background-color: #BBD8DC !important;\\n    color: white;\\n}\\n.catalogues li:hover {\\n    color: #607D8B;\\n    background-color: #DDD;\\n    left: .1em;\\n}\\n.catalogues .text {\\n    position: relative;\\n    top: -3px;\\n}\\n.catalogues .badge {\\n    display: inline-block;\\n    font-size: small;\\n    color: white;\\n    padding: 0.8em 0.7em 0 0.7em;\\n    background-color: #607D8B;\\n    line-height: 1em;\\n    position: relative;\\n    left: -1px;\\n    top: -4px;\\n    height: 1.8em;\\n    margin-right: .8em;\\n    border-radius: 4px 0 0 4px;\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/catalogues/catalogues.component.css\n// module id = 522\n// module chunks = 1","module.exports = \"<div class=\\\"entry\\\" *ngIf=\\\"catalogueEntry\\\">\\n    <span class=\\\"badge\\\">{{catalogueEntry.code}}</span>\\n    {{catalogueEntry.text}}\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/catalogue-entry/catalogue-entry.component.html\n// module id = 524\n// module chunks = 1","module.exports = \"<div *ngIf=\\\"catalogue\\\">\\n    <h2>{{catalogue.name}}\\n        <span class=\\\"badge\\\">({{catalogue.tag}})</span>\\n    </h2>\\n    <div id=\\\"search-component\\\">\\n        <input #searchBox id=\\\"search-box\\\" (keyup)=\\\"search(searchBox.value)\\\" />\\n        <div class=\\\"results\\\">\\n            <div *ngFor=\\\"let entry of catalogueEntries | async\\\"\\n                  class=\\\"search-result\\\" >\\n                <div (click)=\\\"showCatalogueEntry(entry)\\\">\\n                <span class=\\\"badge\\\">{{entry.code}}</span> - {{entry.text | slice:0:50}}...\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <catalogue-entry [catalogueEntry]=\\\"selectedCatalogueEntry\\\"></catalogue-entry>\\n</div>\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/catalogue-search/catalogue-search.component.html\n// module id = 525\n// module chunks = 1","module.exports = \"<ul class=\\\"catalogues\\\">\\n    <li *ngFor=\\\"let catalogue of catalogues\\\"\\n        [class.selected]=\\\"catalogue === selectedCatalogue\\\"\\n        (click)=\\\"onSelect(catalogue)\\\">\\n        <span class=\\\"badge\\\">{{catalogue.tag}}</span>\\n        {{catalogue.name}}\\n    </li>\\n</ul>\\n<!--\\n<div *ngIf=\\\"selectedCatalogue\\\">\\n</div>\\n-->\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/catalogues/catalogues.component.html\n// module id = 526\n// module chunks = 1"],"sourceRoot":""}